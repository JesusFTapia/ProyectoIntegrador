<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<AnchorPane prefHeight="600.0" prefWidth="800.0" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.moxxdesignsfront.controllers.vistaGestionTrabajos">

    <children>
        <VBox spacing="15" style="-fx-padding: 20;"
              AnchorPane.bottomAnchor="0.0"
              AnchorPane.leftAnchor="0.0"
              AnchorPane.rightAnchor="0.0"
              AnchorPane.topAnchor="0.0">

            <!-- TÃ­tulo -->
            <Label text="GestiÃ³n de Trabajos y Cotizaciones"
                   style="-fx-font-size: 22pt; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />

            <!-- Barra de bÃºsqueda y acciones -->
            <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-padding: 15; -fx-background-color: #ecf0f1; -fx-background-radius: 8;">
                <Label text="ðŸ” Buscar:" style="-fx-font-weight: bold; -fx-font-size: 12pt;" />
                <TextField fx:id="buscarTextField"
                           promptText="ID, cliente, estado, tipo de trabajo..."
                           prefWidth="400.0"
                           HBox.hgrow="ALWAYS"
                           style="-fx-font-size: 11pt;" />

                <Button text="ðŸ”„ Refrescar"
                        onAction="#refrescarTabla"
                        style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-padding: 10 20; -fx-font-weight: bold; -fx-font-size: 11pt; -fx-cursor: hand;" />

                <Region HBox.hgrow="ALWAYS" />

                <VBox alignment="CENTER_RIGHT" spacing="3">
                    <Label fx:id="totalRegistrosLabel"
                           text="Total: 0"
                           style="-fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-font-size: 12pt;" />
                    <Label fx:id="filtradosLabel"
                           text="Mostrando: 0"
                           style="-fx-text-fill: #7f8c8d; -fx-font-size: 10pt;" />
                </VBox>
            </HBox>

            <!-- Tabla de Trabajos -->
            <TableView fx:id="tablaTrabajos" VBox.vgrow="ALWAYS"
                       style="-fx-border-color: #bdc3c7; -fx-border-width: 2; -fx-border-radius: 8; -fx-background-radius: 8;">
                <columns>
                    <TableColumn fx:id="columnaId"
                                 text="ID"
                                 prefWidth="60.0"
                                 resizable="false"
                                 style="-fx-alignment: CENTER;" />

                    <TableColumn fx:id="columnaFechaCreacion"
                                 text="Fecha CreaciÃ³n"
                                 prefWidth="130.0"
                                 style="-fx-alignment: CENTER;" />

                    <TableColumn fx:id="columnaFechaEntrega"
                                 text="Entrega"
                                 prefWidth="110.0"
                                 style="-fx-alignment: CENTER;" />

                    <TableColumn fx:id="columnaCliente"
                                 text="Cliente"
                                 prefWidth="150.0" />

                    <TableColumn fx:id="columnaTipoTrabajo"
                                 text="Tipo de Trabajo"
                                 prefWidth="180.0" />

                    <TableColumn fx:id="columnaEstado"
                                 text="Estado"
                                 prefWidth="100.0"
                                 style="-fx-alignment: CENTER;" />

                    <TableColumn fx:id="columnaCotizaciones"
                                 text="# Cotiz."
                                 prefWidth="70.0"
                                 style="-fx-alignment: CENTER;" />

                    <TableColumn fx:id="columnaUltimoTotal"
                                 text="Ãšltimo Total"
                                 prefWidth="110.0"
                                 style="-fx-alignment: CENTER_RIGHT;" />

                    <TableColumn fx:id="columnaAcciones"
                                 text="Acciones"
                                 prefWidth="280.0"
                                 resizable="false"
                                 style="-fx-alignment: CENTER;" />
                </columns>

                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                </columnResizePolicy>

                <placeholder>
                    <VBox alignment="CENTER" spacing="10" style="-fx-padding: 30;">
                        <Label text="ðŸ“‹" style="-fx-font-size: 40pt;" />
                        <Label text="No hay trabajos registrados"
                               style="-fx-text-fill: #95a5a6; -fx-font-size: 16pt; -fx-font-weight: bold;" />
                    </VBox>
                </placeholder>
            </TableView>

            <!-- InformaciÃ³n adicional -->
            <HBox spacing="15" style="-fx-padding: 12; -fx-background-color: #d5f4e6; -fx-background-radius: 8;">
                <Label text="â„¹ï¸" style="-fx-font-size: 16pt;" />
                <VBox spacing="3" HBox.hgrow="ALWAYS">
                    <Label text="GestiÃ³n Completa de Trabajos:"
                           style="-fx-text-fill: #16a085; -fx-font-weight: bold; -fx-font-size: 11pt;" />
                    <Label text="â€¢ Ver Detalles: Consulta informaciÃ³n completa del trabajo"
                           style="-fx-text-fill: #16a085; -fx-font-size: 10pt;" />
                    <Label text="â€¢ Cotizaciones: Revisa el historial completo y genera/imprime cotizaciones"
                           style="-fx-text-fill: #16a085; -fx-font-size: 10pt;" />
                    <Label text="â€¢ Editar: Modifica la informaciÃ³n del trabajo"
                           style="-fx-text-fill: #16a085; -fx-font-size: 10pt;" />
                    <Label text="â€¢ Cancelar: Cambia el estado del trabajo a CANCELADO"
                           style="-fx-text-fill: #16a085; -fx-font-size: 10pt;" />
                </VBox>
            </HBox>

        </VBox>
    </children>

</AnchorPane>